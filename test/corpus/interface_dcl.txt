========================================
interface_dcl
========================================

interface HelloWorld;
interface HelloWorld {};

interface HelloWorld: Parent {};
interface HelloWorld: Parent1, Parent2, Parent3 {};

interface A: B, C, D {
    void func1();
    void func1() raises(A);
    void func1() raises(A,B,C);
    void func1(in u8 attr, out u16 attr);
    void func1(in u8 attr, out u16 attr) raises(A);
    void func1(in u8 attr, out u16 attr) raises(A,B,C);
    readonly attribute u8 attr1, attr2, attr3;
    readonly attribute u8 attr1 raises(A);
    readonly attribute u8 attr1 raises(A, B, C);
    attribute u8 attr1, attr2, attr3;
    attribute u8 attr1 getraises(A);
    attribute u8 attr1 getraises(A, B, C) setraises(A);
    attribute u8 attr1 setraises(A);
};

interface A {
    typedef long L1; // idl 7.4.4
    const int a = 10; // idl 7.4.4
    exception A { // idl 7.4.4
        int a;
    };
    short opA(in L1 l_1);
};

---

(specification
  (definition
    (interface_dcl
      (interface_forward_dcl
        (interface_kind)
        (identifier))))
  (definition
    (interface_dcl
      (interface_def
        (interface_header
          (interface_kind)
          (identifier)))))
  (definition
    (interface_dcl
      (interface_def
        (interface_header
          (interface_kind)
          (identifier)
          (interface_inheritance_spec
            (interface_name
              (scoped_name
                (identifier))))))))
  (definition
    (interface_dcl
      (interface_def
        (interface_header
          (interface_kind)
          (identifier)
          (interface_inheritance_spec
            (interface_name
              (scoped_name
                (identifier)))
            (interface_name
              (scoped_name
                (identifier)))
            (interface_name
              (scoped_name
                (identifier))))))))
  (definition
    (interface_dcl
      (interface_def
        (interface_header
          (interface_kind)
          (identifier)
          (interface_inheritance_spec
            (interface_name
              (scoped_name
                (identifier)))
            (interface_name
              (scoped_name
                (identifier)))
            (interface_name
              (scoped_name
                (identifier)))))
        (interface_body
          (export
            (op_dcl
              (op_type_spec)
              (identifier)))
          (export
            (op_dcl
              (op_type_spec)
              (identifier)
              (raises_expr
                (scoped_name
                  (identifier)))))
          (export
            (op_dcl
              (op_type_spec)
              (identifier)
              (raises_expr
                (scoped_name
                  (identifier))
                (scoped_name
                  (identifier))
                (scoped_name
                  (identifier)))))
          (export
            (op_dcl
              (op_type_spec)
              (identifier)
              (parameter_dcls
                (param_dcl
                  (param_attribute)
                  (type_spec
                    (simple_type_spec
                      (scoped_name
                        (identifier))))
                  (simple_declarator
                    (identifier)))
                (param_dcl
                  (param_attribute)
                  (type_spec
                    (simple_type_spec
                      (scoped_name
                        (identifier))))
                  (simple_declarator
                    (identifier))))))
          (export
            (op_dcl
              (op_type_spec)
              (identifier)
              (parameter_dcls
                (param_dcl
                  (param_attribute)
                  (type_spec
                    (simple_type_spec
                      (scoped_name
                        (identifier))))
                  (simple_declarator
                    (identifier)))
                (param_dcl
                  (param_attribute)
                  (type_spec
                    (simple_type_spec
                      (scoped_name
                        (identifier))))
                  (simple_declarator
                    (identifier))))
              (raises_expr
                (scoped_name
                  (identifier)))))
          (export
            (op_dcl
              (op_type_spec)
              (identifier)
              (parameter_dcls
                (param_dcl
                  (param_attribute)
                  (type_spec
                    (simple_type_spec
                      (scoped_name
                        (identifier))))
                  (simple_declarator
                    (identifier)))
                (param_dcl
                  (param_attribute)
                  (type_spec
                    (simple_type_spec
                      (scoped_name
                        (identifier))))
                  (simple_declarator
                    (identifier))))
              (raises_expr
                (scoped_name
                  (identifier))
                (scoped_name
                  (identifier))
                (scoped_name
                  (identifier)))))
          (export
            (attr_dcl
              (readonly_attr_spec
                (type_spec
                  (simple_type_spec
                    (scoped_name
                      (identifier))))
                (readonly_attr_declarator
                  (simple_declarator
                    (identifier))
                  (simple_declarator
                    (identifier))
                  (simple_declarator
                    (identifier))))))
          (export
            (attr_dcl
              (readonly_attr_spec
                (type_spec
                  (simple_type_spec
                    (scoped_name
                      (identifier))))
                (readonly_attr_declarator
                  (simple_declarator
                    (identifier))
                  (raises_expr
                    (scoped_name
                      (identifier)))))))
          (export
            (attr_dcl
              (readonly_attr_spec
                (type_spec
                  (simple_type_spec
                    (scoped_name
                      (identifier))))
                (readonly_attr_declarator
                  (simple_declarator
                    (identifier))
                  (raises_expr
                    (scoped_name
                      (identifier))
                    (scoped_name
                      (identifier))
                    (scoped_name
                      (identifier)))))))
          (export
            (attr_dcl
              (attr_spec
                (type_spec
                  (simple_type_spec
                    (scoped_name
                      (identifier))))
                (attr_declarator
                  (simple_declarator
                    (identifier))
                  (simple_declarator
                    (identifier))
                  (simple_declarator
                    (identifier))))))
          (export
            (attr_dcl
              (attr_spec
                (type_spec
                  (simple_type_spec
                    (scoped_name
                      (identifier))))
                (attr_declarator
                  (simple_declarator
                    (identifier))
                  (attr_raises_expr
                    (get_excep_expr
                      (exception_list
                        (scoped_name
                          (identifier)))))))))
          (export
            (attr_dcl
              (attr_spec
                (type_spec
                  (simple_type_spec
                    (scoped_name
                      (identifier))))
                (attr_declarator
                  (simple_declarator
                    (identifier))
                  (attr_raises_expr
                    (get_excep_expr
                      (exception_list
                        (scoped_name
                          (identifier))
                        (scoped_name
                          (identifier))
                        (scoped_name
                          (identifier))))
                    (set_excep_expr
                      (exception_list
                        (scoped_name
                          (identifier)))))))))
          (export
            (attr_dcl
              (attr_spec
                (type_spec
                  (simple_type_spec
                    (scoped_name
                      (identifier))))
                (attr_declarator
                  (simple_declarator
                    (identifier))
                  (attr_raises_expr
                    (set_excep_expr
                      (exception_list
                        (scoped_name
                          (identifier)))))))))))))
  (definition
    (interface_dcl
      (interface_def
        (interface_header
          (interface_kind)
          (identifier))
        (interface_body
          (export
            (type_dcl
              (typedef_dcl
                (type_declarator
                  (simple_type_spec
                    (base_type_spec
                      (integer_type
                        (signed_int
                          (signed_long_int)))))
                  (any_declarators
                    (any_declarator
                      (simple_declarator
                        (identifier))))))))
          (comment)
          (export
            (const_dcl
              (const_type
                (scoped_name
                  (identifier)))
              (identifier)
              (const_expr
                (or_expr
                  (xor_expr
                    (and_expr
                      (shift_expr
                        (add_expr
                          (mult_expr
                            (unary_expr
                              (primary_expr
                                (literal
                                  (integer_literal
                                    (dec_number))))))))))))))
          (comment)
          (export
            (except_dcl
              (identifier)
              (comment)
              (member
                (type_spec
                  (simple_type_spec
                    (scoped_name
                      (identifier))))
                (declarators
                  (declarator
                    (simple_declarator
                      (identifier)))))))
          (export
            (op_dcl
              (op_type_spec
                (type_spec
                  (simple_type_spec
                    (base_type_spec
                      (integer_type
                        (signed_int
                          (signed_short_int)))))))
              (identifier)
              (parameter_dcls
                (param_dcl
                  (param_attribute)
                  (type_spec
                    (simple_type_spec
                      (scoped_name
                        (identifier))))
                  (simple_declarator
                    (identifier)))))))))))

=========
rpc
=========

@DDSService
interface A {
    @key
    attribute u8 a;
    @key
    void fun();
};

@key
typedef u8 a;

----

(specification
  (definition
    (interface_dcl
      (annotation_appl
        (annotation_appl_builtin_body
          (annotation_appl_dds_service)))
      (interface_def
        (interface_header
          (interface_kind)
          (identifier))
        (interface_body
          (export
            (attr_dcl
              (annotation_appl
                (annotation_appl_builtin_body
                  (annotation_appl_key
                    (anno_name))))
              (attr_spec
                (type_spec
                  (simple_type_spec
                    (scoped_name
                      (identifier))))
                (attr_declarator
                  (simple_declarator
                    (identifier))))))
          (export
            (op_dcl
              (annotation_appl
                (annotation_appl_builtin_body
                  (annotation_appl_key
                    (anno_name))))
              (op_type_spec)
              (identifier)))))))
  (definition
    (type_dcl
      (annotation_appl
        (annotation_appl_builtin_body
          (annotation_appl_key
            (anno_name))))
      (typedef_dcl
        (type_declarator
          (simple_type_spec
            (scoped_name
              (identifier)))
          (any_declarators
            (any_declarator
              (simple_declarator
                (identifier)))))))))
